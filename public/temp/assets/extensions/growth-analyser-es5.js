!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var t=function(){function t(){i(this,t);var e=this;this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.analyserOptionsObject={"First Data":{position:0},"Previous Data":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Average:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(t){t(function(t){e.currentValue=t+"",e.analyser(t),e.preGrowthHook("Custom")})}}}}return r(t,[{key:"analyser",value:function(t){var e,n=this,i=this.ga||{},o=this.tsObject.apiInstance.getComponentStore(),r=o.getCanvasByIndex(0),s=r.getComposition(),l=i.ds||s.dataset,u=i.idMap||{},h=i.storeAr||[],c=[],p=r.composition.yAxis;if(this.ga=i,!i.storeAr&&(o={},!i.idMap)){l.forEachSeries(function(t,e,n,i){o[i.getId()]=i.getOriginalData()});for(e in o)h.push(o[e]),u[e]=h.length-1;i.idMap=u,i.ds=l,i.storeAr=h,i.gAnalyser=new a(h)}c=i.gAnalyser.analyse(t),"reset"!==t&&c.changed?(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t,e){return e.numberFormatter.yAxis(t)+"%"},n.contextMenu&&n.contextMenu.showListItem("reset")):(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t,e){return e.numberFormatter.yAxis(t)},n.contextMenu&&n.contextMenu.hideListItem("reset")),l.setDataBySeries(function(t){c.value.length&&t.setOriginalData(c.value[u[t.getId()]])}),s.impl.update()}},{key:"init",value:function(t){var e=this,n=["graphics","chart","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData",function(){var t=0,i=n.length-1,o="";for(t=0;t<i;++t)o=n[t],e[o]=arguments[t]}];return t(n),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"growthOverMode",value:function(){function t(e){var i,a;for(i in e)a=e[i],"object"===("undefined"==typeof a?"undefined":o(a))&&a.submenu&&t(a),i.indexOf(n)+1&&(r=!0)}var e=this,n=this.extData&&this.extData.growthOver,i=this.analyserOptionsObject,r=!1;return t(i),r?void(isNaN(n)?"firstIndex"===n?(e.preGrowthHook("First"),e.analyser({position:0})):"prevIndex"===n?(e.preGrowthHook("Previous"),e.analyser({relposition:-1})):(e.preGrowthHook(n),e.analyser(n)):(e.analyser(n),e.preGrowthHook("Custom"))):void(e.contextMenu&&e.contextMenu.hideListItem("reset"))}},{key:"updateAxisName",value:function(t){function e(n){for(h in n)c=n[h],"object"===("undefined"==typeof c?"undefined":o(c))&&c.submenu&&e(c),h.indexOf(t)+1&&(u=!0)}function n(t){a&&r.getAxisName("y",{text:t})}var i=this,r=this.chartInstance&&this.chartInstance.apiInstance,a=this.origAxisName||r.getAxisName("y"),s=(this.extData&&this.extData.axisFormatter,function(t,e){var n=e+"";return"Custom"===n&&(n=i.currentValue+""),n=n.toLowerCase(),t+="",t+" (Growth over "+n+")"}),l=this.analyserOptionsObject,u=!1,h="",c=void 0;e(l),this.origAxisName=a,n(u?s(a,t):a)}},{key:"preGrowthHook",value:function(t){this.highlight(t),this.updateAxisName(t)}},{key:"highlight",value:function(t){for(var e=this.contextMenu,n=e&&e.listContainerManager.container.atomicLists,i=n.length,o=0,r={},a={},s=!0;i-- -1;)for(r=n[i],s=!0,r.name.indexOf(t)+1?r.node.style.fontWeight="bold":r.node.style.fontWeight="",o=r.subConRef&&r.subConRef.atomicLists.length||0;o--;)a=r.subConRef.atomicLists[o],a.name.indexOf(t)+1?(a.node.style.fontWeight="bold",r.node.style.fontWeight="bold",s=!1):a.node.style.fontWeight="",s&&(r.node.style.fontWeight="")}},{key:"createToolbar",value:function(){var t,e,n,i,o=this,r=[],a={},s=this.graphics.paper,l=this.graphics.container,u=o.extData&&o.extData.style||{},h={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},c={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif',fontWeight:"bold"},p={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"};u.category=u.category||{},u.subCategory=u.subCategory||{},u.popup=u.popup||{},Object.assign(c,u.category),Object.assign(h,u.subCategory),Object.assign(p,u.popup),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),a=this.analyserOptionsObject,n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),this.contextMenu=n,r.push({"Show Growth Over":{style:c}}),i=function(t){function e(){i.hide(),f.remove(),t(h.val())}function n(){h.element.value=h.element.value.replace(/[^\d.-]/g,"")}var i,r,a,u,h,c,f,d=p,g=180,m=o.chart&&o.chart.width||0,y=o.chart&&o.chart.height||0,b=m/2-90,x=y/2-40;f=s.rect({x:0,y:0,width:m,height:y,fill:"#000",opacity:"0.35"}),i=s.html("div",{fill:"#f7f7f7",x:b,y:x,width:180,height:80},d,l),r=s.html("div",{fill:"#e8e8e8",width:g,height:20},d,i),a=s.html("div",{fill:"transparent",width:.6*g,height:20,x:10,y:2},d,r),a.attr({text:"Provide value"}),u=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},d,r),u.on("click",function(){i.hide(),f.remove()}),h=s.html("input",{width:100,height:20,x:10,y:30},d,i),c=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},i),c.on("click",function(){e()}),h.on("keyup",function(t){13===t.keyCode&&e()}),c.attr({text:"Apply"}),h.element.focus(),h.element.addEventListener("keyup",n),u.element.style.position="relative",u.element.style.backgroundColor="#d2d2d2",u.element.style.border="2px solid #cbcbcb",u.element.style.padding="0px 0px 3.5px 2px",u.element.style.color="#8c8c8c",u.element.style.margin="1px 2px",u.element.style.float="right",h.element.style.marginTop="8px",h.element.style.border="2px solid #dadbda",c.element.style.marginTop="8px",i.element.style.border="1px solid #d4d2d3",r.element.style.border="1px solid #d4d2d3",r.element.style.width="179px",a.element.style.fontSize="11.5px",a.element.style.marginTop="0.5px",a.element.style.color="#676767",r.element.style["font-family"]='"Lucida Grande", Sans-serif',c.element.style.textAlign="center",c.element.style.fontSize="11px",c.element.style.paddingTop="3px",c.element.style.borderRadius="3px",c.element.style.color="#e4e4e4"},r.push({"&nbsp; &nbsp; Reset View":{id:"reset",handler:function(){o.analyser("reset"),o.preGrowthHook("reset")},action:"click",style:h}}),r.push({"":{id:"reset",style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}});var f=function(t){var e=void 0,n={},s={};if(a[t].submenu){e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=h,n[e].handler=[];var l=function(r){var l=r,u=a[t][r];return"submenu"===r?"continue":(s={},s["&nbsp;"+l]={},s["&nbsp;"+l].handler=function(){"function"==typeof u?u(i):(o.analyser(u),o.preGrowthHook(l))},s["&nbsp;"+l].action="click",s["&nbsp;"+l].style=h,n[e].handler.push(s),void(r.indexOf("Custom")===-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})))};for(var u in a[t]){l(u)}}else e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:h,handler:function(){o.analyser(a[t]),o.preGrowthHook(t)},action:"click"};r.push(n),t.indexOf("Specific")===-1&&r.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var d in a)f(d);return n.appendAsList(r),this.SymbolStore.register("ContextIcon",function(t,e,n){var i=t,o=e,r=2*n,a=Math.round(r/4),s=.7*Math.round(r/2),l=i-s,u=i+s,h=o+a,c=o-a;return["M",l,o,"L",u,o,"M",l,h,"L",u,h,"M",l,c,"L",u,c]}),e.addSymbol(n),t.addComponent(e),t}},{key:"getLogicalSpace",value:function(t,e){t/=2;var n,i,o,r=0,a=0;for(i=0,o=this.toolbars.length;i<o;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r>t?0:r,height:a>e?0:a}}},{key:"placeInCanvas",value:function(){var t=this,e=this.extData||{},n=e.posWrtCanvas||"top",i=e.layout||"inline",o=e.alignment||"right",r=e.orientation||"horizontal";t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t[i]},orientation:[{type:function(t){return t[r]},position:[{type:function(t){return t[n]},alignment:[{type:function(t){return t[o]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,o){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=o,this}},{key:"draw",value:function(t,e,n,i,o){var r,a,s,l=this.measurement,u=this.toolbars;if(this.growthOverMode(),t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,o=void 0===o?this.parentGroup:o,n&&i)for(a=0,r=u.length;a<r;a++)s=u[a],s.draw(t,e)}}]),t}();FusionCharts.registerComponent("extensions","growth-analyser",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=r}return i(t,[{key:"getAnalyser",value:function(t){return this.analyse.bind(this,t)}},{key:"analyse",value:function(t,e){var n=0,i=0,o=0,r=0,a=0,s=this.Formulae,l=e||this.data,u=[],h=0,c=l,p=[],f=[],d=0,g=({changed:!1,value:l.map(function(t){return t.map(function(t){})})},{changed:!1,value:l.map(function(t){return t.map(function(t){return t})})});if(void 0===t)return g;if("string"==typeof t&&"reset"===t.toLowerCase())return g;if(isNaN(t))if("string"==typeof t){if(t=s[t],!t)return g;for(n=0,i=c.length;n<i;++n){for(f=[],h=t(c[n]),o=0,r=c[n].length;o<r;++o)a=c[n][o],d=0===h?void 0:100*(a-h)/h,f.push(d);p.push(f)}}else if(isNaN(t.relposition))if(isNaN(t.position)&&"string"!=typeof t.position){if(isNaN(t.reldatasetposition))return g;for(t=t.reldatasetposition,n=0,i=c.length;n<i;++n){for(f=[],u=n+t>=0&&n+t<i?c[n+t]:c[n],o=0,r=c[n].length;o<r;++o)h=u[o],a=c[n][o],f.push(100*(a-h)/a);p.push(f)}}else for(t=t.position,n=0,i=c.length;n<i;++n){for(f=[],o=0,r=c[n].length;o<r;++o)a=c[n][o],h="last"===t?c[n][r-1]:"mid"===t?c[n][r/2]:t>=0&&t<r?c[n][t]:a,f.push(100*(a-h)/h);p.push(f)}else for(t=t.relposition,n=0,i=c.length;n<i;++n){for(f=[],o=0,r=c[n].length;o<r;++o)a=c[n][o],h=o+t>=0&&o+t<r?c[n][o+t]:a,f.push(100*(a-h)/h);p.push(f)}else for(h=+t,n=0,i=c.length;n<i;++n){for(f=[],o=0,r=c[n].length;o<r;++o)a=c[n][o],f.push(100*(a-h)/h);p.push(f)}for(n=0,i=p.length;n<i;++n)for(o=0,r=p[n].length;o<r;++o)Number.isFinite(p[n][o])||(p[n][o]=null),d=parseInt(100*p[n][o]),p[n][o]=d/100;return{changed:!0,value:p}}}]),t}(),r={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,i=0,o=0,r=0,a=0,s=0;return n=e(t),i=t.map(function(t){return s=t-n,o=s*s}),r=e(i),a=Math.sqrt(r)}};t.exports=o}]);